import { Component, Input, ElementRef, Inject, ViewContainerRef, Directive, EventEmitter, Output, NgModule } from '@angular/core';
import { registerElement } from '@nativescript/angular';
import { RadSideDrawer } from 'nativescript-ui-sidedrawer';
import * as i0 from "@angular/core";
const TKDRAWERCONTENT = 'TKDrawerContent';
const TKMAINCONTENT = 'TKMainContent';
/**
 * This is the SideDrawer component. It separates your mobile app's screen
 * into a main part and a menu part whereby the menu part is shown upon a swipe
 * gesture using a transition effect.
 */
export class RadSideDrawerComponent {
    constructor(elementRef, viewContainer) {
        this.elementRef = elementRef;
        this.viewContainer = viewContainer;
        this.drawerOpening = new EventEmitter();
        this.drawerOpen = new EventEmitter();
        this.drawerClosing = new EventEmitter();
        this.drawerClosed = new EventEmitter();
        this.sideDrawer = this.elementRef.nativeElement;
    }
    /**
     * [Deprecated: Please use the 'drawerTransition' property instead].
     */
    set transition(transition) {
        this.sideDrawer.drawerTransition = transition;
    }
    get nativeElement() {
        return this.sideDrawer;
    }
    /**
     * Defines either the width or the height
     * of the menu pane depending on the location of the SideDrawer.
     * Top or Bottom - height, Right or Left - width.
     */
    set drawerContentSize(value) {
        this._drawerContentSize = value;
        this.updateContentSize();
    }
    set gesturesEnabled(value) {
        this._gesturesEnabled = value;
        this.updateGesturesEnabled();
    }
    set drawerTransition(value) {
        this._drawerTransition = value;
        this.updateDrawerTransition();
    }
    set drawerLocation(value) {
        this._drawerLocation = value;
        this.updateDrawerLocation();
    }
    updateDrawerLocation() {
        this.sideDrawer.drawerLocation = this._drawerLocation;
    }
    updateDrawerTransition() {
        this.sideDrawer.drawerTransition = this._drawerTransition;
    }
    updateGesturesEnabled() {
        this.sideDrawer.gesturesEnabled = this._gesturesEnabled;
    }
    updateContentSize() {
        this.sideDrawer.drawerContentSize = this._drawerContentSize;
    }
}
RadSideDrawerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.2", ngImport: i0, type: RadSideDrawerComponent, deps: [{ token: ElementRef }, { token: ViewContainerRef }], target: i0.ɵɵFactoryTarget.Component });
RadSideDrawerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.2", type: RadSideDrawerComponent, selector: "RadSideDrawer", inputs: { transition: "transition" }, outputs: { drawerOpening: "drawerOpening", drawerOpen: "drawerOpen", drawerClosing: "drawerClosing", drawerClosed: "drawerClosed" }, ngImport: i0, template: '<ng-content></ng-content>', isInline: true });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.2", ngImport: i0, type: RadSideDrawerComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'RadSideDrawer',
                    template: '<ng-content></ng-content>'
                }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef, decorators: [{
                    type: Inject,
                    args: [ElementRef]
                }] }, { type: i0.ViewContainerRef, decorators: [{
                    type: Inject,
                    args: [ViewContainerRef]
                }] }]; }, propDecorators: { drawerOpening: [{
                type: Output
            }], drawerOpen: [{
                type: Output
            }], drawerClosing: [{
                type: Output
            }], drawerClosed: [{
                type: Output
            }], transition: [{
                type: Input
            }] } });
/**
 * Directive identifying the drawer content.
 */
export class TKDrawerContentDirective {
    constructor(_elementRef) {
        this._elementRef = _elementRef;
        this._elementRef.nativeElement.id = TKDRAWERCONTENT;
    }
}
TKDrawerContentDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.2", ngImport: i0, type: TKDrawerContentDirective, deps: [{ token: ElementRef }], target: i0.ɵɵFactoryTarget.Directive });
TKDrawerContentDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "15.2.2", type: TKDrawerContentDirective, selector: "[tkDrawerContent]", ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.2", ngImport: i0, type: TKDrawerContentDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[tkDrawerContent]'
                }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef, decorators: [{
                    type: Inject,
                    args: [ElementRef]
                }] }]; } });
/**
 * Directive identifying the main content.
 */
export class TKMainContentDirective {
    constructor(_elementRef) {
        this._elementRef = _elementRef;
        this._elementRef.nativeElement.id = TKMAINCONTENT;
    }
}
TKMainContentDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.2", ngImport: i0, type: TKMainContentDirective, deps: [{ token: ElementRef }], target: i0.ɵɵFactoryTarget.Directive });
TKMainContentDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "15.2.2", type: TKMainContentDirective, selector: "[tkMainContent]", ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.2", ngImport: i0, type: TKMainContentDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[tkMainContent]'
                }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef, decorators: [{
                    type: Inject,
                    args: [ElementRef]
                }] }]; } });
let sideDrawerMeta = {
    insertChild: (parent, child) => {
        const drawer = parent;
        const childView = child;
        if (childView.id === TKMAINCONTENT) {
            drawer.mainContent = childView;
        }
        if (childView.id === TKDRAWERCONTENT) {
            drawer.drawerContent = childView;
        }
    },
    removeChild: (parent, child) => {
        const drawer = parent;
        const childView = child;
        if (childView.id === TKMAINCONTENT) {
            drawer.mainContent = null;
        }
        if (childView.id === TKDRAWERCONTENT) {
            drawer.drawerContent = null;
        }
    }
};
/**
 * Directives identifying the RadSideDrawer.
 */
export const SIDEDRAWER_DIRECTIVES = [RadSideDrawerComponent, TKDrawerContentDirective, TKMainContentDirective];
registerElement('RadSideDrawer', () => RadSideDrawer, sideDrawerMeta);
/**
 * NgModule containing all of the RadSideDrawer directives.
 */
export class NativeScriptUISideDrawerModule {
}
NativeScriptUISideDrawerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.2", ngImport: i0, type: NativeScriptUISideDrawerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
NativeScriptUISideDrawerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "14.0.0", version: "15.2.2", ngImport: i0, type: NativeScriptUISideDrawerModule, declarations: [RadSideDrawerComponent, TKDrawerContentDirective, TKMainContentDirective], exports: [RadSideDrawerComponent, TKDrawerContentDirective, TKMainContentDirective] });
NativeScriptUISideDrawerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "15.2.2", ngImport: i0, type: NativeScriptUISideDrawerModule });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.2", ngImport: i0, type: NativeScriptUISideDrawerModule, decorators: [{
            type: NgModule,
            args: [{
                    declarations: [SIDEDRAWER_DIRECTIVES],
                    exports: [SIDEDRAWER_DIRECTIVES]
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy91aS1zaWRlZHJhd2VyL2FuZ3VsYXIvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBZ0MsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ2hLLE9BQU8sRUFBeUIsZUFBZSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDL0UsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRCQUE0QixDQUFDOztBQUUzRCxNQUFNLGVBQWUsR0FBVyxpQkFBaUIsQ0FBQztBQUNsRCxNQUFNLGFBQWEsR0FBVyxlQUFlLENBQUM7QUFROUM7Ozs7R0FJRztBQUtILE1BQU0sT0FBTyxzQkFBc0I7SUF1QmxDLFlBQXVDLFVBQXNCLEVBQW9DLGFBQStCO1FBQXpGLGVBQVUsR0FBVixVQUFVLENBQVk7UUFBb0Msa0JBQWEsR0FBYixhQUFhLENBQWtCO1FBYi9HLGtCQUFhLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDdEQsZUFBVSxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ25ELGtCQUFhLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDdEQsaUJBQVksR0FBc0IsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQVdyRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDO0lBQ2pELENBQUM7SUFWRDs7T0FFRztJQUNILElBQ0ksVUFBVSxDQUFDLFVBQWU7UUFDN0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsR0FBRyxVQUFVLENBQUM7SUFDL0MsQ0FBQztJQU1ELElBQVcsYUFBYTtRQUN2QixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDeEIs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dXQsIEVsZW1lbnRSZWYsIEluamVjdCwgVGVtcGxhdGVSZWYsIEVtYmVkZGVkVmlld1JlZiwgVmlld0NvbnRhaW5lclJlZiwgRGlyZWN0aXZlLCBFdmVudEVtaXR0ZXIsIE91dHB1dCwgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5nVmlldywgVmlld0NsYXNzTWV0YSwgcmVnaXN0ZXJFbGVtZW50IH0gZnJvbSAnQG5hdGl2ZXNjcmlwdC9hbmd1bGFyJztcbmltcG9ydCB7IFJhZFNpZGVEcmF3ZXIgfSBmcm9tICduYXRpdmVzY3JpcHQtdWktc2lkZWRyYXdlcic7XG5cbmNvbnN0IFRLRFJBV0VSQ09OVEVOVDogc3RyaW5nID0gJ1RLRHJhd2VyQ29udGVudCc7XG5jb25zdCBUS01BSU5DT05URU5UOiBzdHJpbmcgPSAnVEtNYWluQ29udGVudCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSXRlbUV2ZW50QXJncyB7XG5cdG9iamVjdDogYW55O1xuXHR2aWV3OiBFbWJlZGRlZFZpZXdSZWY8YW55Pjtcblx0cmV0dXJuVmFsdWU/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgdGhlIFNpZGVEcmF3ZXIgY29tcG9uZW50LiBJdCBzZXBhcmF0ZXMgeW91ciBtb2JpbGUgYXBwJ3Mgc2NyZWVuXG4gKiBpbnRvIGEgbWFpbiBwYXJ0IGFuZCBhIG1lbnUgcGFydCB3aGVyZWJ5IHRoZSBtZW51IHBhcnQgaXMgc2hvd24gdXBvbiBhIHN3aXBlXG4gKiBnZXN0dXJlIHVzaW5nIGEgdHJhbnNpdGlvbiBlZmZlY3QuXG4gKi9cbkBDb21wb25lbnQoe1xuXHRzZWxlY3RvcjogJ1JhZFNpZGVEcmF3ZXInLFxuXHR0ZW1wbGF0ZTogJzxuZy1jb250ZW50PjwvbmctY29udGVudD4nXG59KVxuZXhwb3J0IGNsYXNzIFJhZFNpZGVEcmF3ZXJDb21wb25lbnQge1xuXHRwdWJsaWMgc2lkZURyYXdlcjogUmFkU2lkZURyYXdlcjtcblx0cHVibGljIG1haW5UZW1wbGF0ZTogVGVtcGxhdGVSZWY8RWxlbWVudFJlZj47XG5cdHB1YmxpYyBkcmF3ZXJUZW1wbGF0ZTogVGVtcGxhdGVSZWY8RWxlbWVudFJlZj47XG5cblx0cHJpdmF0ZSBfZHJhd2VyQ29udGVudFNpemU6IG51bWJlcjtcblx0cHJpdmF0ZSBfZ2VzdHVyZXNFbmFibGVkOiBib29sZWFuO1xuXHRwcml2YXRlIF9kcmF3ZXJUcmFuc2l0aW9uOiBzdHJpbmc7XG5cdHByaXZhdGUgX2RyYXdlckxvY2F0aW9uOiBzdHJpbmc7XG5cblx0QE91dHB1dCgpIHB1YmxpYyBkcmF3ZXJPcGVuaW5nOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblx0QE91dHB1dCgpIHB1YmxpYyBkcmF3ZXJPcGVuOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblx0QE91dHB1dCgpIHB1YmxpYyBkcmF3ZXJDbG9zaW5nOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblx0QE91dHB1dCgpIHB1YmxpYyBkcmF3ZXJDbG9zZWQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG5cdC8qKlxuXHQgKiBbRGVwcmVjYXRlZDogUGxlYXNlIHVzZSB0aGUgJ2RyYXdlclRyYW5zaXRpb24nIHByb3BlcnR5IGluc3RlYWRdLlxuXHQgKi9cblx0QElucHV0KClcblx0c2V0IHRyYW5zaXRpb24odHJhbnNpdGlvbjogYW55KSB7XG5cdFx0dGhpcy5zaWRlRHJhd2VyLmRyYXdlclRyYW5zaXRpb24gPSB0cmFuc2l0aW9uO1xuXHR9XG5cblx0Y29uc3RydWN0b3IoQEluamVjdChFbGVtZW50UmVmKSBwdWJsaWMgZWxlbWVudFJlZjogRWxlbWVudFJlZiwgQEluamVjdChWaWV3Q29udGFpbmVyUmVmKSBwcml2YXRlIHZpZXdDb250YWluZXI6IFZpZXdDb250YWluZXJSZWYpIHtcblx0XHR0aGlzLnNpZGVEcmF3ZXIgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudDtcblx0fVxuXG5cdHB1YmxpYyBnZXQgbmF0aXZlRWxlbWVudCgpOiBSYWRTaWRlRHJhd2VyIHtcblx0XHRyZXR1cm4gdGhpcy5zaWRlRHJhd2VyO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgZWl0aGVyIHRoZSB3aWR0aCBvciB0aGUgaGVpZ2h0XG5cdCAqIG9mIHRoZSBtZW51IHBhbmUgZGVwZW5kaW5nIG9uIHRoZSBsb2NhdGlvbiBvZiB0aGUgU2lkZURyYXdlci5cblx0ICogVG9wIG9yIEJvdHRvbSAtIGhlaWdodCwgUmlnaHQgb3IgTGVmdCAtIHdpZHRoLlxuXHQgKi9cblx0c2V0IGRyYXdlckNvbnRlbnRTaXplKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl9kcmF3ZXJDb250ZW50U2l6ZSA9IHZhbHVlO1xuXHRcdHRoaXMudXBkYXRlQ29udGVudFNpemUoKTtcblx0fVxuXG5cdHNldCBnZXN0dXJlc0VuYWJsZWQodmFsdWU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLl9nZXN0dXJlc0VuYWJsZWQgPSB2YWx1ZTtcblx0XHR0aGlzLnVwZGF0ZUdlc3R1cmVzRW5hYmxlZCgpO1xuXHR9XG5cblx0c2V0IGRyYXdlclRyYW5zaXRpb24odmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMuX2RyYXdlclRyYW5zaXRpb24gPSB2YWx1ZTtcblx0XHR0aGlzLnVwZGF0ZURyYXdlclRyYW5zaXRpb24oKTtcblx0fVxuXG5cdHNldCBkcmF3ZXJMb2NhdGlvbih2YWx1ZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5fZHJhd2VyTG9jYXRpb24gPSB2YWx1ZTtcblx0XHR0aGlzLnVwZGF0ZURyYXdlckxvY2F0aW9uKCk7XG5cdH1cblxuXHRwcml2YXRlIHVwZGF0ZURyYXdlckxvY2F0aW9uKCkge1xuXHRcdHRoaXMuc2lkZURyYXdlci5kcmF3ZXJMb2NhdGlvbiA9IDxhbnk+dGhpcy5fZHJhd2VyTG9jYXRpb247XG5cdH1cblxuXHRwcml2YXRlIHVwZGF0ZURyYXdlclRyYW5zaXRpb24oKSB7XG5cdFx0dGhpcy5zaWRlRHJhd2VyLmRyYXdlclRyYW5zaXRpb24gPSA8YW55PnRoaXMuX2RyYXdlclRyYW5zaXRpb247XG5cdH1cblxuXHRwcml2YXRlIHVwZGF0ZUdlc3R1cmVzRW5hYmxlZCgpIHtcblx0XHR0aGlzLnNpZGVEcmF3ZXIuZ2VzdHVyZXNFbmFibGVkID0gdGhpcy5fZ2VzdHVyZXNFbmFibGVkO1xuXHR9XG5cblx0cHJpdmF0ZSB1cGRhdGVDb250ZW50U2l6ZSgpIHtcblx0XHR0aGlzLnNpZGVEcmF3ZXIuZHJhd2VyQ29udGVudFNpemUgPSB0aGlzLl9kcmF3ZXJDb250ZW50U2l6ZTtcblx0fVxufVxuXG4vKipcbiAqIERpcmVjdGl2ZSBpZGVudGlmeWluZyB0aGUgZHJhd2VyIGNvbnRlbnQuXG4gKi9cbkBEaXJlY3RpdmUoe1xuXHRzZWxlY3RvcjogJ1t0a0RyYXdlckNvbnRlbnRdJ1xufSlcbmV4cG9ydCBjbGFzcyBUS0RyYXdlckNvbnRlbnREaXJlY3RpdmUge1xuXHRjb25zdHJ1Y3RvcihASW5qZWN0KEVsZW1lbnRSZWYpIHByaXZhdGUgX2VsZW1lbnRSZWY6IEVsZW1lbnRSZWYpIHtcblx0XHR0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuaWQgPSBUS0RSQVdFUkNPTlRFTlQ7XG5cdH1cbn1cblxuLyoqXG4gKiBEaXJlY3RpdmUgaWRlbnRpZnlpbmcgdGhlIG1haW4gY29udGVudC5cbiAqL1xuQERpcmVjdGl2ZSh7XG5cdHNlbGVjdG9yOiAnW3RrTWFpbkNvbnRlbnRdJ1xufSlcbmV4cG9ydCBjbGFzcyBUS01haW5Db250ZW50RGlyZWN0aXZlIHtcblx0Y29uc3RydWN0b3IoQEluamVjdChFbGVtZW50UmVmKSBwcml2YXRlIF9lbGVtZW50UmVmOiBFbGVtZW50UmVmKSB7XG5cdFx0dGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmlkID0gVEtNQUlOQ09OVEVOVDtcblx0fVxufVxuXG5sZXQgc2lkZURyYXdlck1ldGE6IFZpZXdDbGFzc01ldGEgPSB7XG5cdGluc2VydENoaWxkOiAocGFyZW50OiBOZ1ZpZXcsIGNoaWxkOiBOZ1ZpZXcpID0+IHtcblx0XHRjb25zdCBkcmF3ZXIgPSA8UmFkU2lkZURyYXdlcj4oPGFueT5wYXJlbnQpO1xuXHRcdGNvbnN0IGNoaWxkVmlldyA9IDxhbnk+Y2hpbGQ7XG5cblx0XHRpZiAoY2hpbGRWaWV3LmlkID09PSBUS01BSU5DT05URU5UKSB7XG5cdFx0XHRkcmF3ZXIubWFpbkNvbnRlbnQgPSBjaGlsZFZpZXc7XG5cdFx0fVxuXG5cdFx0aWYgKGNoaWxkVmlldy5pZCA9PT0gVEtEUkFXRVJDT05URU5UKSB7XG5cdFx0XHRkcmF3ZXIuZHJhd2VyQ29udGVudCA9IGNoaWxkVmlldztcblx0XHR9XG5cdH0sXG5cdHJlbW92ZUNoaWxkOiAocGFyZW50OiBOZ1ZpZXcsIGNoaWxkOiBOZ1ZpZXcpID0+IHtcblx0XHRjb25zdCBkcmF3ZXIgPSA8UmFkU2lkZURyYXdlcj4oPGFueT5wYXJlbnQpO1xuXHRcdGNvbnN0IGNoaWxkVmlldyA9IDxhbnk+Y2hpbGQ7XG5cblx0XHRpZiAoY2hpbGRWaWV3LmlkID09PSBUS01BSU5DT05URU5UKSB7XG5cdFx0XHRkcmF3ZXIubWFpbkNvbnRlbnQgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChjaGlsZFZpZXcuaWQgPT09IFRLRFJBV0VSQ09OVEVOVCkge1xuXHRcdFx0ZHJhd2VyLmRyYXdlckNvbnRlbnQgPSBudWxsO1xuXHRcdH1cblx0fVxufTtcblxuLyoqXG4gKiBEaXJlY3RpdmVzIGlkZW50aWZ5aW5nIHRoZSBSYWRTaWRlRHJhd2VyLlxuICovXG5leHBvcnQgY29uc3QgU0lERURSQVdFUl9ESVJFQ1RJVkVTID0gW1JhZFNpZGVEcmF3ZXJDb21wb25lbnQsIFRLRHJhd2VyQ29udGVudERpcmVjdGl2ZSwgVEtNYWluQ29udGVudERpcmVjdGl2ZV07XG5cbnJlZ2lzdGVyRWxlbWVudCgnUmFkU2lkZURyYXdlcicsICgpID0+IFJhZFNpZGVEcmF3ZXIsIHNpZGVEcmF3ZXJNZXRhKTtcblxuLyoqXG4gKiBOZ01vZHVsZSBjb250YWluaW5nIGFsbCBvZiB0aGUgUmFkU2lkZURyYXdlciBkaXJlY3RpdmVzLlxuICovXG5ATmdNb2R1bGUoe1xuXHRkZWNsYXJhdGlvbnM6IFtTSURFRFJBV0VSX0RJUkVDVElWRVNdLFxuXHRleHBvcnRzOiBbU0lERURSQVdFUl9ESVJFQ1RJVkVTXVxufSlcbmV4cG9ydCBjbGFzcyBOYXRpdmVTY3JpcHRVSVNpZGVEcmF3ZXJNb2R1bGUge31cbiJdfQ==